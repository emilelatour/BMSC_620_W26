{
  "hash": "ba135d7289276700dc4e5742c3a7ae38",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"BMSC 620 — Homework 2\"\nauthor: \"Your Name\"\nformat: \n  html:\n    embed-resources: true\nexecute:\n  echo: true\n---\n\n\n\n\n::: {.callout-note}\n**File naming and submission**\n\nPlease use the following file naming convention:\n\n`Lastname_FirstInitial_HW##`\n\nExamples:\n\n- Smith_J_HW02.qmd\n- Smith_J_HW02.html\n\n\nWhen submitting Homework 2, upload **both**:\n\n- the `.qmd` file\n- the rendered `.html` file\n:::\n\n## Homework 2\n\nThis assignment reviews:\n\n- data wrangling with `dplyr`\n- summary tables with `janitor` and `rstatix`\n- data visualization with `ggplot2`\n- probability concepts: marginal, joint, and conditional probabilities\n\nUnless stated otherwise, show your work using R code chunks.\n\n---\n\n\n## Part 0: Setup\n\n1. In the chunk below, load the packages you need for this homework.\n2. Run the chunk to confirm there are no errors.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# NOTE: If you don't already have the oibiostat package installed, then uncomment and run the two lines below. Then re-comment them and check installation with `library(oibiostat)`.\n# install.packages(\"devtools\")\n# devtools::install_github(\"OI-Biostat/oi_biostat_data\", force = TRUE)\n\nlibrary(oibiostat)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(janitor)\nlibrary(rstatix)\n```\n:::\n\n\n\n\n## Part 1: Exploring data with tidyverse tools\n\nIn this homework, you will work with the **nhanes.samp** dataset (the same dataset from HW1, but now using tidyverse tools!).\n\nLoad the dataset:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"nhanes.samp\")\n```\n:::\n\n\n\n\n### 1A. Initial data inspection\n\nUse the following tidyverse functions to explore the data:\n\n1. `glimpse()` to see the structure\n2. Use the pipe `%>%` with `head()` to see first 5 rows (e.g., `nhanes.samp %>% head(5)`)\n3. `dim()` to get dimensions\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nAnswer in plain text:\n\n1. How many rows and columns does nhanes.samp have?\n2. What type of variable is `Race1`? What about `Age`?\n3. How is this different from using `str()` in HW1?\n\nAnswers:\n1.\n2.\n3.\n\n### 1B. Using filter() and select()\n\n1. Use `filter()` to keep only people with `PhysActive == \"Yes\"` (physically active)\n2. Then use `select()` to keep only the columns: `Age`, `Gender`, `Race1`, `PhysActive`, `Pulse`\n3. Assign this filtered/selected data to a new object called `active_people`\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nHow many physically active people are in the dataset? (Use `nrow()` on your new object)\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nAnswer:\n\n### 1C. Creating new variables with mutate()\n\nUsing the full `nhanes.samp` dataset:\n\n1. Use `mutate()` to create a new variable called `age_group` that categorizes age:\n   - \"Child\" if Age < 18\n   - \"Adult\" if Age < 65\n   - \"Senior\" if Age >= 65\n2. Use `select()` to show just `ID`, `Age`, and `age_group`\n3. Use `head()` to show the first 10 rows\n\nHint: Use `case_when()` inside `mutate()`.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n## Part 2: Summary statistics with rstatix\n\n### 2A. Summary for one variable\n\nUse `get_summary_stats()` from the `rstatix` package to calculate the mean and standard deviation of `Pulse`. Use `type = \"mean_sd\"`.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n### 2B. Summary by groups\n\nUse `group_by()` and `get_summary_stats()` to calculate the mean and standard deviation of `Pulse` by `PhysActive` (physically active yes/no).\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nDo physically active people have a higher or lower mean pulse rate? What might explain this?\n\nAnswer:\n\n### 2C. Multiple variables and groups\n\nCalculate summary statistics for `Age`, `Pulse`, and `Weight` grouped by both `Gender` AND `PhysActive` status. Use `type = \"mean_sd\"`.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n## Part 3: Frequency tables with janitor\n\n### 3A. One-way frequency table\n\nUse `tabyl()` to create a frequency table for the `Race1` variable.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nWhich racial/ethnic group has the highest percentage in this sample?\n\nAnswer:\n\n### 3B. Two-way table\n\nCreate a two-way table showing the relationship between `Gender` and `PhysActive` using `tabyl()`.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n### 3C. Adorned tables\n\n1. Create the same Gender × PhysActive table\n2. Add row percentages using `adorn_percentages(\"row\")`\n3. Format percentages with one decimal place using `adorn_pct_formatting(digits = 1)`\n4. Add totals for rows and columns using `adorn_totals(c(\"row\", \"col\"))`\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nAmong females, what percentage are physically active? Among males? (Look at the row percentages)\n\nAnswer:\n\n## Part 4: Data visualization with ggplot2\n\n### 4A. Histogram\n\nCreate a histogram of `Age` using `ggplot2`. Include:\n\n- `bins = 20`\n- A title: \"Distribution of Age in NHANES Sample\"\n- An x-axis label: \"Age (years)\"\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nDescribe the distribution in 1-2 sentences (shape, center, spread, any interesting features).\n\nAnswer:\n\n### 4B. Boxplot by group\n\nCreate a boxplot comparing `Pulse` across `PhysActive` groups. Include:\n\n- Appropriate axis labels\n- A title\n- Try adding `fill = PhysActive` inside `aes()` for color\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nDo physically active people appear to have different pulse rates? Are there any outliers?\n\nAnswer:\n\n### 4C. Scatterplot\n\nCreate a scatterplot of `Age` (x-axis) vs `Pulse` (y-axis). \n\n- Color the points by `Gender`\n- Set `alpha = 0.5` for transparency\n- Add appropriate labels and a title\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nDescribe any relationship between age and pulse rate in 1-2 sentences.\n\nAnswer:\n\n### 4D. Bar chart\n\nCreate a bar chart showing counts of the `Race1` variable.\n\n- Add a title and axis labels\n- Use `coord_flip()` at the end to make horizontal bars (easier to read the labels)\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n## Part 5: Combining dplyr and ggplot2 (BONUS - Optional)\n\n**This section is optional but recommended for extra practice combining dplyr and ggplot2.**\n\n### 5A. Filter then visualize\n\n1. Use pipes to filter to people under age 20 (children/adolescents)\n2. Create a histogram of their `Pulse`\n3. Use `facet_wrap(~Gender)` to create separate panels by gender\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nDo the pulse rate distributions look similar between males and females in this age group?\n\nAnswer:\n\n### 5B. Complex workflow\n\nCreate a workflow that:\n\n1. Filters to people who are physically active (`PhysActive == \"Yes\"`)\n2. Creates a new variable `age_category`:\n   - \"Under 30\" if Age < 30\n   - \"30-50\" if Age < 50\n   - \"50+\" if Age >= 50\n3. Creates a boxplot of `Pulse` by `age_category`\n4. Colors the boxes by `age_category` using `fill = age_category` in `aes()`\n5. Facets by `Gender`\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n## Part 6: Probability concepts\n\nFor this section, we'll work with a medical testing scenario. \n\nConsider the following contingency table showing disease status and test results for 1,000 patients:\n\n|            | Disease | No Disease | Total |\n|------------|:-------:|:----------:|:-----:|\n| **Test +** | 90      | 180        | 270   |\n| **Test -** | 10      | 720        | 730   |\n| **Total**  | 100     | 900        | 1,000 |\n\n### 6A. Marginal probabilities\n\nCalculate the following marginal probabilities:\n\n1. $P(\\text{Disease})$\n2. $P(\\text{Test +})$\n3. $P(\\text{No Disease})$\n\nShow your calculations below (you can do this by hand or in R):\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nAnswers:\n1. P(Disease) = \n2. P(Test +) = \n3. P(No Disease) = \n\n### 6B. Joint probabilities\n\nCalculate the following joint probabilities:\n\n1. $P(\\text{Disease and Test +})$\n2. $P(\\text{No Disease and Test -})$\n3. $P(\\text{Disease and Test -})$\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nAnswers:\n1. P(Disease and Test +) = \n2. P(No Disease and Test -) = \n3. P(Disease and Test -) = \n\n### 6C. Conditional probabilities\n\nCalculate the following conditional probabilities. Remember: \n\n$$P(A \\mid B) = \\frac{P(A \\text{ and } B)}{P(B)}$$\n\n1. $P(\\text{Disease} \\mid \\text{Test +})$ - This is the Positive Predictive Value (PPV)\n2. $P(\\text{No Disease} \\mid \\text{Test -})$ - This is the Negative Predictive Value (NPV)\n3. $P(\\text{Test +} \\mid \\text{Disease})$ - This is the sensitivity\n\nShow your work:\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nAnswers:\n1. P(Disease | Test +) = \n2. P(No Disease | Test -) = \n3. P(Test + | Disease) = \n\n### 6D. Interpretation\n\nIn 2-3 sentences, explain what the Positive Predictive Value (PPV) from 6C.1 tells us. Why might this value be lower than the sensitivity?\n\nAnswer:\n\n## Final check\n\nBefore submitting, confirm that:\n\n- The document renders to HTML without errors\n- All code chunks run successfully\n- Your name appears at the top\n- You've answered all text questions in Parts 1-6\n- You uploaded both the .qmd and .html files\n- (Optional) If you completed Part 5, make sure those chunks run too!\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}