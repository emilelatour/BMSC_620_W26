{
  "hash": "d72925cd2ba567866be14a59564b1441",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"R Workflow: Projects, File Paths, and Reading Data\"\nsubtitle: \"BMSC 620\"\nauthor: \"Emile Latour\"\ndate: \"2026-02-09\"\nformat:\n  revealjs:\n    theme: \"../../assets/css/reveal-bmsc620_v5.scss\"\n    slide-number: true\n    show-slide-number: all\n    width: 1955\n    height: 1100\n    footer: \"BMSC 620 | R Workflow\"\n    html-math-method: mathjax\n    chalkboard: true\nexecute:\n  echo: true\n  warning: false\n  message: false\n  freeze: auto\n---\n\n\n\n\n\n\n## Roadmap for Today's R Content\n\n**Building on last class:** File paths and reproducibility\n\n\\\n\n**Today's goals:**\n\n1. **R Projects** - Your solution to file path headaches\n2. **The `here` package** - Robust file referencing\n3. **Reading data** - Getting your data into R\n   - CSV files with `readr`\n   - Excel files with `readxl`\n\n\\\n\nBy the end, you'll be able to load the body temperature dataset we'll use for hypothesis testing!\n\n# The Problem: File Paths Break\n\n## Recall: Why do file paths break?\n\nLast class we talked about how this breaks:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# This works on MY computer\ndata <- read_csv(\"C:/Users/Emile/Documents/BMSC620/data/BodyTemps.csv\")\n```\n:::\n\n\n\n\n\\\n\n**Problems:**\n\n- Hard-coded path specific to one computer\n- Won't work if you move the folder\n- Won't work on collaborator's computer\n- Won't work if you rename folders\n- Makes your code **not reproducible**\n\n## Reproducibility\n\n- Research **data** and **code** (and **documentation**) can reach the same results regardless of who is running the code\n\n  - This can also refer to future or past you!\n  \n- We want to set up our work so the entire folder can be moved around and work in its new location\n\n## What we want: Portable, reproducible code\n\n**Ideal scenario:**\n\n- Your entire project folder can be moved anywhere\n- Code still works without editing paths\n- Collaborators can run your code immediately\n- Future you can run it on a new computer\n\n\\\n\n**The solution:** R Projects + `here` package\n\n# R Projects: Your Working Directory Solution\n\n## What is an R Project?\n\nAn **R Project** is a way to designate a working directory for your analysis.\n\n\\\n\n**When you create an R Project:**\n\n- RStudio creates a `.Rproj` file in your folder\n- That folder becomes the \"root\" of your working directory\n- RStudio knows where you are and where to find files\n- Each project has its own independent environment\n\n\\\n\n::: {.callout-tip icon=\"false\"}\n## Best practice\nCreate a **separate R Project for every analysis** (and every class!)\n:::\n\n## Why use R Projects?\n\n**Organization:**\n\n- Keeps all files for one project together\n- Easy to see what belongs to what analysis\n\n\\\n\n**Reproducibility:**\n\n- Paths are relative to the project folder\n- Project can be moved anywhere and still work\n- Easy to share with collaborators\n\n\\\n\n**Workflow:**\n\n- Can have multiple RStudio sessions open (different projects)\n- Each session is independent\n- Easy to switch between projects\n\n## The nice thing about R projects\n\n- 5 minute video explaining some of the nice features of R projects\n\n<https://rfortherestofus.com/2022/10/rstudio-projects>\n\n\n## Recommended folder structure\n\nWhen you create a project, organize your files:\n\n#### My typical folder structure\n\n```\nMyProject/\n├── MyProject.Rproj      # R Project file\n├── data/                # data files (never edited by hand)\n├── code/                # R, qmd, html\n├── docs/                # notes, instructions, PDFs, references\n├── figures/             # saved figures\n├── deliverables/        # sent to collaborators, by date\n└── admin/               # budgets, admin\n```\n\n\\\n\n#### For this class, I recommend:\n\n```\nBMSC620/\n├── BMSC620.Rproj        # R Project file\n├── data/                # Datasets I provide\n├── homework/            # Your homework files, one folder for each HW\n├── notes/               # Your class notes (hmtl, pdf, etc.)\n├── practice/            # Practice exercises\n└── misc/                # And other folders if you want\n```\n\n## How to create an R Project\n\n\n::: columns\n::: {.column width=\"50%\"}\n**Option 1: New project in existing folder** \n\n(recommended if you already organized folders)\n\n1. `File → New Project...`\n2. Choose `Existing Directory`\n3. Navigate to your class folder\n4. **Check \"Open in new session\"**\n5. Click `Create Project`\n:::\n\n::: {.column width=\"50%\"}\n**Option 2: New project in new folder**\n\n1. `File → New Project...`\n2. Choose `New Directory`\n3. Choose `New Project`\n4. Name your project and choose where to save it\n5. **Check \"Open in new session\"**\n6. Click `Create Project`\n:::\n:::\n\n\\\n\n::: {.callout-important icon=\"false\"}\n## Always check \"Open in new session\"\nThis keeps your current work separate from the new project. Good habit for managing multiple projects!\n:::\n\n## Live demonstration\n\nLet me show you how to:\n\n1. Create an R Project for our class\n2. Set up the folder structure\n3. Open the project\n4. **Note: Watch for the \"Open in new session\" checkbox**\n\n\\\n\n::: {.callout-note icon=\"false\"}\n## Note\nWe're creating a **\"regular\" R Project**, not a \"Quarto Project\"\n\n- Regular projects are simpler and work perfectly for our needs\n- Once you're comfortable, you can explore Quarto Projects later\n:::\n\n## Your turn: Create your class project\n\n**Task:** Create an R Project for BMSC 620\n\n\\\n\n**Steps:**\n\n1. Decide where on your computer you want your class folder\n2. Create folders: `data`, `homework`, `notes`, `practice`\n3. In RStudio: `File → New Project... → Existing Directory`\n4. Navigate to your class folder\n5. **✓ Check \"Open in new session\"**\n6. Click `Create Project`\n\n\\\n\nYou should now see a `.Rproj` file in your folder!\n\n## Opening a project\n\n**To work on your project in the future:**\n\n\\\n\n**Option 1:** Double-click the `.Rproj` file\n\n- Opens RStudio with that project loaded\n- Working directory is automatically set\n\n\\\n\n**Option 2:** In RStudio, click the project dropdown (top right)\n\n- Shows recent projects\n- Easy to switch between projects\n\n\\\n\n::: {.callout-tip icon=\"false\"}\n## Workflow tip\nAlways open RStudio by opening your project file, not just opening RStudio directly!\n:::\n\n# The `here` Package: Robust File Paths\n\n## The problem `here` solves\n\nEven with an R Project, you still need to reference files:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# These might work differently depending on file type\ndata <- read_csv(\"data/BodyTemps.csv\")\n```\n:::\n\n\n\n\n\\\n\n**The issue:**\n\n- `.qmd` files and `.R` files handle working directories differently\n- Can lead to confusion about where files are\n- `here` package makes this consistent and reliable\n\n## What does `here` do?\n\nThe `here` package **always starts at your project root** (where the `.Rproj` file is)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(here)\nhere()  # Shows your project root directory\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"/Users/latour/Library/CloudStorage/Dropbox/teaching/BMSC_620_W26\"\n```\n\n\n:::\n:::\n\n\n\n\n\\\n\n**Benefits:**\n\n- Works the same in `.qmd` and `.R` files\n- Paths are relative to project root\n- Very clear where files are located\n- Essential for reproducibility!\n\n## Using `here()` to reference files\n\n**Basic syntax:**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhere(\"folder_name\", \"filename\")\n```\n:::\n\n\n\n\n\\\n\n**Examples:**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Data file in the data folder\nhere(\"data\", \"BodyTemps.csv\")\n\n# Output file\nhere(\"output\", \"my_plot.png\")\n\n# Nested folders\nhere(\"data\", \"raw\", \"survey_data.xlsx\")\n```\n:::\n\n\n\n\n\\\n\nThe `here()` function builds the full file path for you!\n\n## `here` + `readr`: Reading CSV files\n\nTo load a CSV file:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)  # includes readr package\nlibrary(here)\n\n# Read CSV file from data folder\nbody_temps <- read_csv(here(\"data\", \"BodyTemperatures.csv\"))\n```\n:::\n\n\n\n\n\\\n\n**What's happening:**\n\n- `here(\"data\", \"BodyTemperatures.csv\")` creates the full path\n- `read_csv()` reads the CSV file into R\n- Data is stored in `body_temps` object\n\n## `here` + `readxl`: Reading Excel files\n\nTo load an Excel file:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(here)\n\n# Read Excel file from data folder\nbody_temps <- read_excel(here(\"data\", \"BodyTemperatures.xlsx\"))\n```\n:::\n\n\n\n\n\\\n\n**Note:** `readxl` is not part of the tidyverse, so install separately:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"readxl\")\n```\n:::\n\n\n\n\n## Common data reading functions\n\n| Function | File type | Package | Notes |\n|----------|-----------|---------|-------|\n| `read_csv()` | `.csv` | `readr` (tidyverse) | Recommended for CSV files |\n| `read_excel()` | `.xlsx`, `.xls` | `readxl` | For Excel files |\n| `read.csv()` | `.csv` | base R | Older base R function |\n| `read_delim()` | tab, other delimiters | `readr` | For other delimited files |\n| `read_sas()` | `.sas7bdat` | `haven` | For SAS files |\n\n\\\n\n**For this class:** You'll mostly use `read_csv()` and occasionally `read_excel()`\n\n## Putting it all together\n\n**Complete workflow for loading data:**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1. Load packages\nlibrary(tidyverse)  # includes read_csv()\nlibrary(here)\n\n# 2. Load data using here\nbody_temps <- read_csv(here(\"data\", \"BodyTemperatures.csv\"))\n\n# 3. Check the data\nglimpse(body_temps)\n```\n:::\n\n\n\n\n\\\n\n**This code will work:**\n\n- On any computer\n- After moving your project folder\n- For your collaborators\n- Years from now\n\n# Resources and Best Practices\n\n## Key resources\n\n**R Projects:**\n\n- [RStudio Projects and Working Directories: A Beginner's Guide](https://www.r-bloggers.com/2020/01/rstudio-projects-and-working-directories-a-beginners-guide/)\n- [Using RStudio Projects](https://support.rstudio.com/hc/en-us/articles/200526207-Using-RStudio-Projects)\n- Video: [The Basics of Projects in RStudio](https://www.youtube.com/watch?v=hKoSJGWnFFA)\n\n\\\n\n**`here` package:**\n\n- [`here` package](https://here.r-lib.org/) \n- [Ode to the here package](https://github.com/jennybc/here_here) (Jenny Bryan)\n\n## Best practices summary\n\n::: {.callout-important icon=\"false\"}\n## Always do these three things\n\n1. **Use R Projects** for every analysis\n2. **Use `here()`** for all file paths\n3. **Organize your files** in a clear folder structure\n:::\n\n\\\n\n**This makes your code:**\n\n- Reproducible\n- Portable\n- Shareable\n- Future-proof\n\n\\\n\nYour future self (and collaborators) will thank you!\n\n## Practice: Load the body temperature data\n\n**Your task:**\n\n1. Make sure your R Project is open\n2. Download `BodyTemperatures.csv` from OneDrive\n3. Save it in your `data` folder\n4. Create a new `.qmd` file\n5. Load the data using `here()`\n\n\\\n\n**Code to try:**\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(here)\n\nbody_temps <- read_csv(here(\"data\", \"BodyTemperatures.csv\"))\nglimpse(body_temps)\n```\n:::\n\n\n\n\n## Questions?\n\nWe'll use this workflow throughout the course!\n\n\\\n\n**Coming up:** We'll use this body temperature dataset for hypothesis testing examples.\n\n\\\n\n![[Artwork by @allison_horst](https://allisonhorst.com/)](/img_slides/horst_here.png){fig-align=\"center\" width=\"600\"}\n",
    "supporting": [
      "12_r_workflow_slides_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}